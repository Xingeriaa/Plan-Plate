<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlannPlate - Your Source for Ingredients</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<!-- Header -->
<header class="bg-light py-3">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center">
            <!-- Logo -->
            <div class="d-flex align-items-center">
                <img src="images/logo.png" alt="PlannPlate Logo" class="me-3" style="width: 60px;">
                <h1>PlannPlate</h1>
            </div>

            <!-- Search Bar -->
            <div class="flex-grow-1 mx-3">
                <input type="text" class="form-control" placeholder="What are you looking for?">
            </div>

            <!-- Header section with account button modification -->
            <!-- Account and Cart -->
            <div class="d-flex align-items-center">
                <a href="#" class="btn btn-outline-primary me-3" id="accountBtn">My Account</a>
                <a href="#" class="btn btn-outline-primary position-relative">
                    Cart
                    <span class="badge bg-danger position-absolute top-0 start-100 translate-middle p-1 badge-circle"></span>
                </a>
            </div>
        </div>
        <!-- Navbar (Mobile) -->

<!-- Add this account sidebar after the header section -->
<!-- Account Sidebar -->
<div class="account-sidebar" id="accountSidebar">
    <div class="account-sidebar-content">
        <div class="account-header">
            <h2>MY ACCOUNT</h2>
            <button class="close-btn" id="closeSidebarBtn">&times;</button>
        </div>
        <div class="account-body">
            <a href="/login" class="btn btn-primary w-100 mb-3">LOGIN</a>
            <a href="#" class="return-link" id="returnToStoreBtn">RETURN TO STORE</a>
        </div>
    </div>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
</div>

<!-- Carousel Section -->
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">FAQ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">All</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Bestsellers</a>
                    </li>
                    <!-- Add more categories as needed -->
                </ul>
            </div>
        </nav>
    </div>
</header>

<!-- Carousel Section -->
<section class="carousel-section mt-4">
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://www.omfoods.com/cdn/shop/files/OMFOODS_ORGANIC_INGREDIENTS.jpg?v=1681412891" class="d-block w-100" alt="Organic Foods">
            </div>
            <div class="carousel-item">
                <img src="https://www.omfoods.com/cdn/shop/files/OMFOODS_ORGANIC.jpg?v=1681412890" class="d-block w-100" alt="Organic Foods">
            </div>
            <div class="carousel-item">
                <img src="https://www.omfoods.com/cdn/shop/files/SALE_PRODUCTS_OM_FOODS.jpg?v=1681412890" class="d-block w-100" alt="Organic Foods">
            </div>
            <div class="carousel-item">
                <img src="https://www.omfoods.com/cdn/shop/files/OMFOODS_ORGANIC_INGREDIENTS.jpg?v=1681412891" class="d-block w-100 " alt="Organic Foods">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</section>

<section class="products-section mt-5">
    <div class="container">
        <h2 class="text-center" style="font-weight: bold;">Organic Foods</h2>
        <div class="row">
            <!-- Repeat for each product card -->
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/foods-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC FOODS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/herbs-spices-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC HERBS & SPICES</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/honey-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC SWEETENERS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/seeds-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC SEEDS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/savory-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC SAVORY INGREDIENTS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/legumes-c.jpg?v=1621634710" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC LEGUMES & LENTILS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/nuts-c.jpg?v=1621634710" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC NUTS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/oils-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC OILS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/grains-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC GRAINS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/cacao-c.jpg?v=1621634710" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC CACAO</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/dried-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC DRIED FRUIT</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/mushroom-seaweed-c.jpg?v=1621634711" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC MUSHROOMS & SEAWEED</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/botanicals-c.jpg?v=1621635587" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC CULNARY BOTANICALS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/herbal-c.jpg?v=1621635587" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC BOTANICAL HERBS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/teas-c.jpg?v=1621635587" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC TEAS</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/ingredients-c.jpg?v=1621635587" class="card-img-top" alt="Organic Foods">
                    <div class="card-body">
                        <h5 class="card-title">ORGANIC INGREDIENT</h5>
                        <p class="card-text">0 PRODUCTS</p>
                    </div>
                </div>
            </div>
            <!-- Add more products in similar fashion -->
        </div>
    </div>
</section>

<!-- Banner Section -->
<section class="banner-section">
    <div class="container">
        <div class="banner-content">
            <div class="row">
                <div class="col-md-6">
                    <h2 class="banner-title">SOURCED WITH INTEGRITY</h2>
                    <p class="banner-description">
                        Ingredients sourced directly from producers, offering quality, pricing, and selection we feel proud to share with you.
                    </p>
                    <h3 class="banner-subtitle">OVER 600+ INGREDIENTS</h3>
                    <p class="banner-description">
                        Family owned and operated company — prioritizing integrity, simplicity, affordability, and accessibility.
                    </p>
                    <a href="#" class="btn btn-primary btn-shop-now">SHOP OUR PRODUCTS</a>
                </div>
                <div class="col-md-6">
                    <!-- You can replace this image URL with your own -->
                    <img src="https://cdn.shopify.com/s/files/1/0031/6742/0534/files/Warehouse.PNG?v=1615922624" alt="Organic Ingredients" class="img-fluid">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Bootstrap JS and Dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

<!-- Account Sidebar Script -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const accountBtn = document.getElementById('accountBtn');
        const accountSidebar = document.getElementById('accountSidebar');
        const closeSidebarBtn = document.getElementById('closeSidebarBtn');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const returnToStoreBtn = document.getElementById('returnToStoreBtn');
        
        // Function to open sidebar
        function openSidebar() {
            accountSidebar.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }
        
        // Function to close sidebar
        function closeSidebar() {
            accountSidebar.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
        }
        
        // Function to check if user is logged in
        function checkAuthStatus() {
            return fetch('/auth/check', {
                method: 'GET',
                credentials: 'same-origin',
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => response.json())
            .catch(error => {
                console.error('Authentication check failed:', error);
                return { authenticated: false };
            });
        }
        
        // Event listeners
        accountBtn.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Check authentication status
            checkAuthStatus().then(data => {
                if (data.authenticated) {
                    // If logged in, redirect to profile
                    window.location.href = '/profile';
                } else {
                    // If not logged in, show sidebar
                    openSidebar();
                }
            });
        });
        
        closeSidebarBtn.addEventListener('click', closeSidebar);
        sidebarOverlay.addEventListener('click', closeSidebar);
        returnToStoreBtn.addEventListener('click', function(e) {
            e.preventDefault();
            closeSidebar();
        });
        
        // Close sidebar when pressing Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && accountSidebar.classList.contains('active')) {
                closeSidebar();
            }
        });
    });
</script>
</body>
</html>
